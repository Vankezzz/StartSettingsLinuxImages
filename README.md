# Создание рабочего образа/снимка ubuntu/виртуальной машины
## Задание:
> 1. Добавление пользователя в файл sudoers
> 2. Установка дополнения гостевой операционной системы VIRTUALBOX для удобного двунаправленного копипаста
> 3. Установка необходимых пакетов для работы
> 4. Экспорт и импорт виртуальной машины 
> 5. Установка Docker

## Введение
На данный момент верcия операционной системы Ubuntu 18.04 LTS, в которой всего два пользователя user и администратор root с одинаковыми паролями : qwerty
Проверить версию можно при помощи команды : `lsb_release -a `
```
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 18.04 LTS
Release:    18.04
Codename:   bionic 
```
## 1. Добавление пользователя в файл sudoers
1. Заходим под божественным пользователем, который все видит и все слышит root: `sudo -i`
2. Вводим пароль для root: `qwerty`
> Если для root не был установлен пароль, то переходим по этому источнику: https://losst.ru/parol-root-v-ubuntu 
3. Мы хотим разрешить пользователю user запускать команды sudo без запроса пароля, для этого мы откроем файл /etc/sudoers: `visudo`
4. Прокрутим вниз и добавим в самом конце: `user  ALL=(ALL) NOPASSWD:ALL`
> Сохраните файл и закройте редактор. user - это пользователь, которому мы предоставили доступ (замените на любого другого)
5. Добавление пользователя в группу sudo происходит с помощью команды: `usermod -aG sudo user`
6. Выходим из под root с помощью ctrl+D и можем пользоваться (я проверяю это обычно успешным запуском команды `sudo apt-get install git`)


### Ссылки с более подробным описанием действий
1. https://andreyex.ru/operacionnaya-sistema-linux/kak-dobavit-polzovatelya-sudoers-v-debian/

## 2. Установка дополнения гостевой операционной системы VIRTUALBOX для удобного двунаправленного копипаста
1. Версия моего виртуалбокса 6.1.14, так что для него надо подключить в оптические диски VBoxGuestAdditions_6.1.14.iso и он автоматически его запустит. В виртуальной машине (в окне, где запущена Ubuntu) на рабочей панале есть вкладка "Устройства" там выбрать "Подключить образ диска Дополнительной гостевой ОС" или вручную через "Оптические диски"
> Если он не запустит автоматически, то проверьте наличие выполненого пункта выше "1. Добавление пользователя в файл sudoers". Или воспользуйтесь данным ресурсом: https://losst.ru/dopolneniya-gostevoj-os-virtualbox-debian
2. Настроить во вкладке "Устройства" пункты "Общий буфер обмена" и "Функция Drag and Drop" на двунаправленный ввод и вывод
3. Проверим скопипастив любой текст из основной операционной системы (у меня Windows 10) в виртульную машину в терминал

## 3. Установка необходимых пакетов для работы
Для работы будем пользоваться командой: `sudo apt-get install [пакет1] [пакет2] .. [пакетN]`
К примеру: `sudo apt-get install git krusader konsole`
Пакеты версии 1.0:
* `git`
* `krusader` и `konsole`

Пакеты будующей версии:

## 4. Экспорт и импорт виртуальной машины 
Экспорт и импорт более подробно описан https://tavalik.ru/import-i-ekport-virtualnoj-mashiny-virtualbox/

## 5. Установка Docker
1. Установим пакеты для работы apt по https:
`sudo apt install apt-transport-https ca-certificates curl software-properties-common`
2. Мы будем устанавливать программу из официального репозитория разработчиков. Сначала надо добавить ключ репозитория:
`curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -`
3. Затем добавьте репозиторий docker в систему:
```
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable
sudo apt update && apt-cache policy docker-ce
```
4. И установка Docker на Ubuntu: ` sudo apt install -y docker-ce`
5. Чтобы завершить установку осталось добавить нашего пользователя в группу docker. Иначе при запуске утилиты вы будете получать ошибку подключения к сокету: ` sudo usermod -aG docker $(whoami)`
6. Затем проверяем запущен ли сервис: ` sudo systemctl status docker`
### Ссылки с более подробным описанием действий
1. https://losst.ru/ustanovka-docker-na-ubuntu-16-04
